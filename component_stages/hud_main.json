{
    "name": "HUD Main",
    "codename": "hud_main",
    "value": "0",
    "quantity": "0",
    "credits_shop_item": "0",
    "type": "component_stages",
    "color": "#202327",
    "editedtime": "1679156800",
    "vars": {
        "getElement": "function () {\r\n\r\n    let totalHeight = 350;\r\n\r\n    let mainHud = new UIContainer();\r\n\r\n    let shootTypes = game.render.componentRaw('hud_shoot_types');\r\n    mainHud.addChild(shootTypes);\r\n    shootTypes.y = 5;\r\n\r\n    let runTypes = game.render.componentRaw('hud_run_types');\r\n    mainHud.addChild(runTypes);\r\n    runTypes.y += 30 + 35\r\n\r\n\r\n\r\n    let tmpCharCard2 = game.render.componentRaw('hud_player_card', { player: true });\r\n\r\n\r\n    let charCard = new PersistentTickerContainer({}, function (caller) {\r\n\r\n        if (this.card && this.lastP && this.lastP !== game.p.id) {\r\n            this.lastP = game.p.id;\r\n            this.card.destroy(); \/\/If theres a card, and watching isnt true or it changed, update\r\n            this.card = false;\r\n        }\r\n\r\n        if (!this.card) {\r\n            this.lastP = game.p.id;\r\n            this.card = game.render.componentRaw('hud_player_card', { player: true });\r\n            this.addChild(this.card);\r\n        }\r\n\r\n    }, 0.1);\r\n\r\n    mainHud.addChild(charCard);\r\n    charCard.y += 10 + 32 + 35 + 35 + 12\r\n    charCard.x = 0;\r\n\r\n    let charCard2 = new PersistentTickerContainer({}, function (caller) {\r\n\r\n        if (this.card && game.watching && game.watching.id) {\r\n            this.lastWatchId = false;\r\n            this.card.destroy(); \/\/If theres a card, and watching isnt true or it changed, update\r\n            this.card = false;\r\n        }\r\n        if (!this.card) {\r\n            if (game.watching && game.watching.id) {\r\n                this.lastWatchId = game.watching.id;\r\n            }\r\n            if(!game.watching) {\r\n                return;\r\n            }\r\n            if (game.watching.id == game.p.id) {\r\n                this.card = game.render.componentRaw('hud_player_card_right');\r\n            } else {\r\n                this.card = game.render.componentRaw('hud_player_card');\r\n            }\r\n\r\n            this.addChild(this.card);\r\n        }\r\n\r\n    }, 0.1);\r\n\r\n    charCard2.y += 10 + 32 + 35 + 35 + 12\r\n\r\n    mainHud.addChild(charCard2);\r\n\r\n    mainHud.y = game.ui._VIEWPORT_BOTTOM - totalHeight;\r\n\r\n    game.uiToggles = new UIContainer();\r\n    game.render.aboveAll.addChild(game.uiToggles);\r\n\r\n    var toggles = game.render.component('player_hud_toggles');\r\n    toggles.x = 200;\r\n    toggles.y = 45;\r\n    game.uiToggles.addChild(toggles);\r\n\r\n\r\n    \/\/TODO: needs moving to a better place or needs list thing fixing\r\n    var toggles = game.render.component('player_hud_pawns');\r\n    toggles.x = 25;\r\n    toggles.y = 45;\r\n\r\n\r\n    game.uiToggles.addChild(toggles)\r\n\r\n    var miniMap = game.render.component('hud_mini_map');\r\n    miniMap.y = 25;\r\n    miniMap.x = game.ui._VIEWPORT_RIGHT - miniMap.width - 25;\r\n\r\n    game.render.aboveAll.addChild(miniMap);\r\n\r\n\r\n    let tutSteps = new TickerContainer({}, function (caller) {\r\n        if (game.settings.showTut) {\r\n            this.addChild(game.render.component('hud_tutsteps'));\r\n        }\r\n\r\n    }, 5);\r\n\r\n    tutSteps.y = 50;\r\n    game.render.aboveAll.addChild(tutSteps);\r\n\r\n    game.setTicker('position_hud', () => {\r\n\r\n        mainHud.y = game.ui._VIEWPORT_BOTTOM - totalHeight;\r\n        charCard2.x = game.ui._VIEWPORT_RIGHT - tmpCharCard2.width;\r\n        tutSteps.x = game.ui._VIEWPORT_RIGHT - 230\r\n        tutSteps.y = 250\r\n\r\n    });\r\n\r\n    return mainHud;\r\n\r\n}"
    }
}