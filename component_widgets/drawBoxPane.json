{
    "name": "drawBoxPane",
    "codename": "drawBoxPane",
    "value": "0",
    "quantity": "0",
    "credits_shop_item": "0",
    "type": "component_widgets",
    "color": "#202327",
    "editedtime": "1676736355",
    "vars": {
        "options": "'x, y, w, h, title, showX, titleW, titleH, name, callerObject, onClose, moveable'",
        "getElement": "function(options) {\r\n\r\n  if (options == undefined) {\r\n    options = {};\r\n  }\r\n\r\n  x = options.x || 0;\r\n  y = options.y || 0;\r\n  w = options.w || 500;\r\n  h = options.h || 500;\r\n  title = options.title || false;\r\n  showX = options.showX || false;\r\n  titleW = options.titleW || 180;\r\n  titleH = options.titleH || 35;\r\n  name = options.name || \"NONAMEADDED\"\r\n  callerObject = options.callerObject || false;\r\n  onClose = options.onClose || false;\r\n  moveable = options.moveable || false;\r\n  onTop = options.onTop || false;\r\n\r\n  background = options.bg === false || 'sprite_texture_scuff';\r\n\r\n\r\n  var outer = new UIContainer('drawBoxPane');\r\n\r\n  var pane = new UIContainer();\r\n\r\n\r\n  outer.addChild(pane);\r\n\r\n  pane.addChild(new UIPane({ fullscreen: false, fill: '0x3d3d3d', padding: 0, x: x, y: y, w: w, h: h }));\r\n  pane.addChild(new UIPane({ fullscreen: false, fill: '0x212121', padding: 5, x: x + 5, y: y + 5, w: w - 10, h: h - 10 }));\r\n  pane.addChild(new UIPane({ fullscreen: false, fill: '0x3c3c3c', padding: 5, x: x + 10, y: y + 10, w: w - 20, h: h - 20 }));\r\n  pane.addChild(new UIPane({ fullscreen: false, fill: '0x434343', padding: 5, x: x + 15, y: y + 15, w: w - 30, h: h - 30 }));\r\n\r\n  if (background !== false) {\r\n    var background = new Sprite(background);\r\n    background.width = pane.width;\r\n    background.height = pane.height;\r\n    pane.addChild(background);\r\n  }\r\n\r\n\r\n  if (title != false) {\r\n    x = 10;\r\n    y = -15;\r\n    pane.addChild(new UIPane({ fullscreen: false, fill: '0x212121', padding: 0, x: x + 10, y: y, w: titleW, h: titleH }));\r\n    pane.addChild(new UIPane({ fullscreen: false, fill: '0x3c3c3c', padding: 0, x: x + 12.5, y: y + 1, w: titleW - 4, h: titleH - 4 }));\r\n\r\n    title = game.render.text(title, 'ingame-menu-title');\r\n\r\n    title.x = x + 19;\r\n    title.y = y + 4;\r\n    title.alpha = 0.8\r\n    pane.addChild(title);\r\n  }\r\n\r\n  pane.cacheAsBitmap = true;\r\n\r\n  var mover = new UIPane({ fullscreen: false, fill: '0xFFFFFF', padding: 0, x: 0, y: 0, w: w - 5, h: h });\r\n  mover.moves = outer;\r\n  mover.alpha = 0;\r\n  mover.isInteractive();\r\n  if (moveable) {\r\n    mover.on('pointerdown', function () {\r\n      console.log(this, this.moves);\r\n      game.movingUI = this.moves;\r\n      game.movingUI.isValid = true;\r\n      game.movingUI.origMouseX = game.screenMouseX;\r\n      game.movingUI.origMouseY = game.screenMouseY;\r\n      game.movingUI.origX = this.moves.x;\r\n      game.movingUI.origY = this.moves.y;\r\n      game.movingUI.cacheAsBitmap = true;\r\n    });\r\n    game.setTicker('movingUI', function () {\r\n\r\n      if (game.movingUI) {\r\n        if (game.movingUI.isValid) {\r\n\r\n          game.movingUI.x = game.movingUI.origX + (game.screenMouseX - game.movingUI.origMouseX);\r\n          game.movingUI.y = game.movingUI.origY + (game.screenMouseY - game.movingUI.origMouseY);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  outer.addChild(mover);\r\n\r\n\r\n\r\n\r\n  if (showX) {\r\n    xButton = new UIContainer();\r\n    xButton.addChild(new UIPane({ fullscreen: false, fill: '0x212121', padding: 0, x: 0, y: 2, w: 25, h: 25 }));\r\n    xButton.addChild(new UIPane({ fullscreen: false, fill: '0x3d3d3d', padding: 0, x: 2, y: 4, w: 21, h: 21 }));\r\n    xButton.isInteractive();\r\n    xButton.pane = outer;\r\n    xButton.callerObject = callerObject;\r\n    xButton.onClose = onClose;\r\n    xButton.on('pointerup', function () {\r\n      this.pane.destroy();\r\n      if (typeof this.onClose == 'function') {\r\n        this.onClose(this.callerObject);\r\n      }\r\n    });\r\n    xButton.x = options.w;\r\n    xButton.y = 0;\r\n    outer.addChild(xButton);\r\n\r\n    xText = game.render.text('X', 'ingame-menu-title');\r\n    xText.x = 5;\r\n    xText.y = 0;\r\n\r\n    xButton.addChild(xText);\r\n    outer.close = xButton;\r\n  }\r\n\r\n  outer.isInteractive();\r\n\r\n\r\n  if (onTop) { \/\/When clicked bring to top\r\n\r\n    outer.on('pointerdown', function () {\r\n      game.render.aboveAll.removeChild(this);\r\n      game.render.aboveAll.addChild(this);\r\n    });\r\n  }\r\n\r\n\r\n  outer.on('pointerdown', function (e) {\r\n    console.log(\"EMIT PANE DOWN\")\r\n\r\n    e.stopPropagation();\r\n    if (game.input.isRightClick(e)) {\r\n      console.log(\"STOP\");\r\n      e.stopPropagation();\r\n    }\r\n  });\r\n\r\n  return outer;\r\n}"
    }
}