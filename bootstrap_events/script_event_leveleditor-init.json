{
    "name": "Level Editor Init",
    "codename": "script_event_leveleditor-init",
    "value": "0",
    "quantity": "0",
    "credits_shop_item": "0",
    "type": "bootstrap_events",
    "color": "#202327",
    "editedtime": null,
    "vars": {
        "exec": "function() {\r\n    game.ui.addEditorStuff = function () {\r\n\r\n\r\n        var toggles = game.render.component('admin_hud_toggles');\r\n        toggles.x = 20;\r\n        toggles.y = 75;\r\n        game.render.aboveAll.addChild(toggles);\r\n\r\n\/*\r\n        var utils = game.render.component('admin_hud_utils');\r\n        utils.x = 195;\r\n        utils.y = 75;\r\n        game.render.aboveAll.addChild(utils);\r\n*\/\r\n        game.last = JSON.stringify(game.index.getIndex('all'));\r\n\r\n    }\r\n\r\n    game.ee.on('leveleditor-init', function (options) {\r\n        console.error(\"LEVEL EDITOR\");\r\n        game.editMode = true;\r\n        setTimeout(function () {\r\n\r\n            game.render.viewport.x = -((64 * 10) * game.urlVar('x'))\r\n            game.render.viewport.y = -((64 * 10) * game.urlVar('y'))\r\n\r\n            game.resume();\r\n            game.grid.loadFirstChunk(game.urlVar('x'), game.urlVar('y'));\r\n\r\n        }, 1000);\r\n\r\n        game.ui.mainUI();\r\n        game.ui.addEditorStuff();\r\n\r\n\r\n\r\n        game.setBuildMode();\r\n\r\n        \/\/game.input.kbInputMode = true; \/\/Allow interaction with dom\r\n        if (game.urlVar('more')) {\r\n            game.setTicker('lifeList', showLifeList);\r\n        }\r\n\r\n        game.ee.on('itemcontainer_created', function (item) {\r\n            item.isInteractive();\r\n            item.on('pointerup', function () {\r\n                game.select(this);\r\n      \r\n\r\n                if (game.input.isDown(189)) {\r\n                    this.scale(-0.05);\r\n                }\r\n\r\n                if (game.input.isDown(187)) {\r\n                    this.scale(0.05);\r\n                }\r\n\r\n                if (game.input.isDown(88)) {\r\n                    this.markDelete();\r\n                }\r\n\r\n                if (game.input.isDown(82)) {\r\n                    this.rotate(0.1);\r\n                }\r\n\r\n                if (game.input.isDown(39)) {\r\n                    this.x++;\r\n                }\r\n\r\n                if (game.input.isDown(37)) {\r\n                    this.x--;\r\n                }\r\n\r\n                if (game.input.isDown(38)) {\r\n                    this.y--;\r\n                }\r\n\r\n                if (game.input.isDown(40)) {\r\n                    this.y++;\r\n                }\r\n\r\n                if (game.input.isDown(69)) {\r\n                    this.rotate(-0.1);\r\n                }\r\n\r\n\r\n            });\r\n        });\r\n\r\n        game.ee.on('lifeobject_created', function (life) {\r\n            console.log(life)\r\n            life.isInteractive();\r\n            life.on('pointerup', function (e) {\r\n\r\n\r\n                if (game.input.isDown(189)) {\r\n                    this.scale(-0.05);\r\n                }\r\n\r\n                if (game.input.isDown(187)) {\r\n                    this.scale(0.05);\r\n                }\r\n\r\n                if (game.input.isDown(88)) {\r\n                    this.markDelete();\r\n                }\r\n\r\n                if (game.input.isDown(82)) {\r\n                    this.rotate(0.1);\r\n                }\r\n\r\n                if (game.input.isDown(39)) {\r\n                    this.x += 32;\r\n                }\r\n\r\n                if (game.input.isDown(37)) {\r\n                    this.x -= 32;\r\n                }\r\n\r\n                if (game.input.isDown(38)) {\r\n                    this.y -= 32;\r\n                }\r\n\r\n                if (game.input.isDown(40)) {\r\n                    this.y += 32;\r\n                }\r\n                if (game.input.isDown(68)) {\r\n                    this.x++;\r\n                }\r\n\r\n                if (game.input.isDown(65)) {\r\n                    this.x--;\r\n                }\r\n\r\n                if (game.input.isDown(87)) {\r\n                    this.y--;\r\n                }\r\n\r\n                if (game.input.isDown(83)) {\r\n                    this.y++;\r\n                }\r\n\r\n                if (game.input.isDown(191)) {\r\n                    this.x += game.rng(-32, 32);\r\n                    this.y += game.rng(-32, 32);\r\n                }\r\n\r\n                if (game.input.isDown(69)) {\r\n                    this.rotate(-0.1);\r\n                }\r\n\r\n                if (game.input.isDown(75)) {\r\n                    this.data.dead = true;\r\n                    this.setAnim('none\/dead_1', true);\r\n                }\r\n\r\n                if (game.input.isDown(49)) {\r\n                    game.clone1 = JSON.parse(JSON.stringify(this)); \/\/Clone structure\r\n                }\r\n            });\r\n        });\r\n\r\n    });\r\n}"
    }
}