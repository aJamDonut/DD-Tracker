{
    "name": "New Game Spawn",
    "codename": "spawn_newgame",
    "value": "0",
    "quantity": "0",
    "credits_shop_item": "1",
    "type": "build_world_spawners",
    "color": "#202327",
    "editedtime": "1680350316",
    "vars": {
        "sprite": "btn_blank_sqr",
        "meta": [],
        "events": {
            "onCreate": "function(spawner) {\r\n  if (game.urlVar('slot')) {\r\n    game.slot = game.urlVar('slot');\r\n  }\r\n  if (game.editMode) {\r\n    return;\r\n  }\r\n  if(game.session.countPawns() > 0) {\r\n    spawner.destroy(); \/\/Already spawned once\r\n    return;\r\n  }\r\n  \/\/TODO: remove this crap, its just a wide to hide the main menu lazily\r\n  try {\r\n    game.index.getIndex('open_components')['frontMenu'].destroy();\r\n  } catch (e) {\r\n    console.error(\"[ABE] I hope youre running in dev mode!\");\r\n  }\r\n  player = new LifeObject(false, {isPlayer: true });\r\n  player.x = spawner.x;\r\n  player.y = spawner.y;\r\n  player.data.static = true;\r\n  player.randomName();\r\n  player.data.name = spawner.data.name || player.data.name;\r\n  player.data.ownedAge = 1;\r\n  player.data.faction = 'nomad';\r\n  game.render.lifeLayer.addChild(player);\r\n  game.world.addToServer(player);\r\n  game.world.addObject(player);\r\n\r\n\r\n  \/\/Recreate brain for player\r\n  game.p = player;\r\n\r\n  \/*\r\n    player.inventory.main.addResource('stone', 10);\r\n    player.inventory.main.addResource('wood', 10);\r\n    player.inventory.main.addResource('rawmeat', 10);\r\n    \r\n  player.inventory.main.addResource('composites', 1);\r\n  player.inventory.main.addResource('sheetmetal', 1);\r\n  player.inventory.main.addResource('building_material', 1);\r\n  \r\n  player.inventory.main.addResource('stone', 20);\r\n  player.inventory.main.addResource('stone', 20);\r\n  player.inventory.main.addResource('wood', 25);\r\n  *\/\r\n\r\n  \/\/player.inventory.main.addResource('fiber', 20);\r\n  \/\/player.inventory.main.addResource('skin', 20);\r\n\r\n  player.inventory.brain.addItem(new InventoryItem('ss_brain_player_mk1'), true);\r\n  \/\/player.addStatusFromClient('bleed', {tickDmg: 0.005, duration: 120, source: 'gamestart'});\r\n\r\n  game.world.setPlayerId(game.p);\r\n  game.render.viewport.toward(game.p.x, game.p.y);\r\n\r\n  game.render.lifeLayer.addChild(player);\r\n\r\n\r\n\r\n\r\n  \/\/Give default itemsss_item_weakrope\r\n  \/\/let wep = new InventoryItem('ss_weapon_sin_baton');\r\n  \/\/player.inventory.weapon.addItem(wep, true);\r\n  \/\/player.inventory.main.addItem(new InventoryItem('ss_item_weakrope'))\r\n  \/*\r\n  player.inventory.main.addItem(new InventoryItem('ss_item_weakrope'));\r\n  player.inventory.main.addItem(new InventoryItem('ss_item_weakrope'));\r\n  player.inventory.main.addItem(new InventoryItem('ss_item_weakrope'));\r\n  player.inventory.main.addItem(new InventoryItem('ss_item_weakrope'));\r\n  player.inventory.main.addItem(new InventoryItem('ss_item_weakrope'));\r\n  *\/\r\n  \/\/ss_item_bp_satchel\r\n\r\n\r\n  \/\/TODO: move to brains\r\n  player.addStatus('naturalhealing');\r\n\r\n  game.session.addPlayerPawn(player);\r\n\r\n\r\n\r\n  \/\/~~~~~ UNLOCKS ~~~~~~~\r\n\r\n  game.session.unlockRecipeRaw('planning');\r\n\r\n  game.session.unlockRecipe('pers_worlditem_campfire');\r\n  game.session.unlockRecipe('cooked_meat');\r\n  game.session.unlockRecipe('redbar');\r\n  game.session.unlockRecipe('ss_weapon_club_w');\r\n  game.session.unlockRecipe('ss_weapon_shinai');\r\n  game.session.unlockRecipe('pers_worlditem_materialbench');\r\n  game.session.unlockRecipe('pers_worlditem_craftingbench');\r\n  game.session.unlockRecipe('building_material');\r\n  game.session.unlockRecipe('pers_worlditem_smelter');\r\n\r\n  game.session.unlockRecipe('ss_item_bandage_small');\r\n  game.session.unlockRecipe('ss_item_weakrope');\r\n  game.session.unlockRecipe('ss_backpack_satchel');\r\n  game.session.unlockRecipe('ss_weapon_crossbow');\r\n\r\n  game.session.unlockRecipe('ss_item_bedroll');\r\n  game.session.unlockRecipe('ss_util_bedroll');\r\n\r\n\r\n\r\n  \/\/game.session.unlockRecipe('sleepingbag');\r\n\r\n  \/\/~~~~~ UNLOCKS ~~~~~~~\r\n\r\n\r\n\r\n  spawner.destroy();\r\n\r\n  if (game.testMode && typeof game.testReady == 'function') {\r\n    game.testReady();\r\n  }\r\n  \/\/  setTimeout(()=>{game.grid.autoSave()}, 60000); \/\/Do a save in 1 minute \r\n\r\n}\r\n"
        },
        "destroyBase": "0"
    }
}